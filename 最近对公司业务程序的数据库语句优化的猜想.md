#聊一聊我自己对某些业务的sql语句的优化猜想

其实我公司的程序有很多sql语句,我自己看起来很别扭,以及一开始没有想好应该要怎样做而导致后面搞成像意大利面

例如有一个user表(用户表):

        -------------------------
        |  id  |  name(用户名)  |
        -------------------------

有一个goods表:

        ---------------------------------------------------------
        |  id  |  name(商品名)  |  user_id  |  price(单价)  |  total(数量)  |
        ---------------------------------------------------------

这里的一个user对应着多个goods,然后我们查询的时候根据一个user的id查询这个user的goods的总价钱

        select
            sum(`g`.`price` * `g`.`total`)
        from `user` as `u`
        inner join `goods` as `g` on `u`.`id` = `user`.`id`
        where `u`.`id` = ?
        group by `u`.`id`

这样的语句
